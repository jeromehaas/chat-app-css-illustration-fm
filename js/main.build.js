(()=>{"use strict";const e=JSON.parse('[{"type":"text","content":{"text":"That sounds great. I\'d be happy with that."},"position":"left","color":"magenta"},{"type":"text","content":{"text":"Could you send over some pictures of your dog, please?"},"position":"left","color":"magenta"},{"type":"media","images":["assets/images/dog-1.jpg","assets/images/dog-2.jpg","assets/images/dog-3.jpg"],"position":"right"},{"type":"text","content":{"text":"Here are a few pictures. She\'s a happy girl!"},"position":"right","color":"white"},{"type":"text","content":{"text":"Can you make it?"},"position":"right","color":"white"},{"type":"text","content":{"text":"She looks so happy! The time we discussed works. How long shall I take her out for?"},"position":"left","color":"magenta"},{"type":"offer","content":{"text":"30 Minutes Walk","price":"$29"},"position":"left","color":"violet"},{"type":"offer","content":{"text":"1 Hour Walk","price":"$49"},"position":"left","color":"violet"}]');function t(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(new(function(){function s(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.messages=[],this.elements={messageContainer:document.querySelector(".phone__messages"),contactTypingStatusLabel:document.querySelector(".contact__status")},this.contact={isAvailable:!0,isTyping:!1}}var a,n;return a=s,n=[{key:"init",value:function(){this.createMessages(e),this.appendMessage(this.messages[0],1e3,1e3),this.appendMessage(this.messages[1],3e3,1e3),this.appendMessage(this.messages[2],5e3,1e3),this.appendMessage(this.messages[3],7e3,1e3),this.appendMessage(this.messages[4],9e3,1e3),this.appendMessage(this.messages[5],11e3,1e3),this.appendMessage(this.messages[6],13e3,1e3),this.appendMessage(this.messages[7],13e3,1e3)}},{key:"setContactTypingStatus",value:function(e){this.contact.isTyping="typing"===e,this.printContactTypingStatus()}},{key:"printContactTypingStatus",value:function(){this.contact.isTyping?this.elements.contactTypingStatusLabel.innerText="typing...":this.contact.isAvailable?this.elements.contactTypingStatusLabel.innerText="Available to Walk":this.elements.contactTypingStatusLabel.innerText="Currently not available"}},{key:"appendMessage",value:function(e,t){var s=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;e&&setTimeout((function(){e.classList.contains("message--left")&&s.setContactTypingStatus("typing"),setTimeout((function(){s.elements.messageContainer.appendChild(e),s.setContactTypingStatus(),s.messageIndex++,s.elements.messageContainer.scrollTop=s.elements.messageContainer.scrollHeight}),a)}),t)}},{key:"createMessages",value:function(e){var t=this;e.map((function(e){switch(e.type){case"text":var s=document.createElement("div"),a=document.createElement("p");s.classList.add("phone__message","message","phone__message--text","message--".concat(e.position),"message--".concat(e.color)),a.classList.add("text__text"),a.innerText=e.content.text,s.appendChild(a),t.messages.push(s);break;case"media":var n=document.createElement("div");n.classList.add("phone__message","phone__message--media","media","message","message--".concat(e.position)),e.images.map((function(e){var t=document.createElement("img");t.src=e,n.appendChild(t)})),t.messages.push(n);break;case"offer":var o=document.createElement("div"),i=document.createElement("div"),c=document.createElement("i"),r=document.createElement("p"),p=document.createElement("p");o.classList.add("phone__message","message","phone__message--offer","message--".concat(e.position),"message--".concat(e.color)),i.classList.add("offer__checkbox","checkbox"),c.classList.add("checkbox__icon","icon","icon--sm","icon--white","icon-checkmark"),r.classList.add("offer__text"),r.innerText=e.content.text,p.classList.add("offer__price"),p.innerText=e.content.price,i.appendChild(c),o.appendChild(i),o.appendChild(r),o.appendChild(p),o.addEventListener("click",(function(e){return t.chooseOffer(e.target)})),t.messages.push(o)}}))}},{key:"chooseOffer",value:function(e){document.querySelectorAll(".offer__checkbox").forEach((function(e){return e.classList.remove("checkbox--checked")})),e.closest(".phone__message").querySelector(".offer__checkbox").classList.add("checkbox--checked")}}],n&&t(a.prototype,n),Object.defineProperty(a,"prototype",{writable:!1}),s}())).init()})();